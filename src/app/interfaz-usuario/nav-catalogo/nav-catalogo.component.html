<!-- Barra de navegación -->
<nav class="bg-white border-gray-200 dark:bg-gray-900">
    <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
        <div class="flex flex-row items-center space-x-4">
            <button (click)="navigateTo('/home/catalogo')" class="relative flex justify-start items-center w-32 p-1 overflow-hidden">
                <img src="assets/images/image (1).png" alt="My Image">
            </button>
            <div id="desktop-nav" *ngIf="isDesktopNavVisible" class="hidden md:flex flex-row items-center space-x-4">
                <button
                    class="text-black text-sm font-bold hover:bg-black hover:text-white rounded-full px-2 py-2">Computadoras</button>
                <button
                    class="text-black text-sm font-bold hover:bg-black hover:text-white rounded-full px-2 py-2">Laptops</button>
                <button
                    class="text-black text-sm font-bold hover:bg-black hover:text-white rounded-full px-2 py-2">Periféricos</button>
                <button
                    class="text-black text-sm font-bold hover:bg-black hover:text-white rounded-full px-2 py-2">Monitores</button>
                <button
                    class="text-black text-sm font-bold hover:bg-black hover:text-white rounded-full px-2 py-2">Componentes</button>
                <button (click)="navigateTo('/servicio/tecnico')"
                    class="text-black text-sm font-bold hover:bg-black hover:text-white rounded-full px-2 py-2">Servicio
                    Técnico</button>
            </div>
        </div>
        <div id="nav-buttons" class="flex items-center rtl:space-x-reverse">
            <!--Buscar  -->
            <div class="mr-3">
                <button id="uniqueSearchButton" type="button" (click)="openChatModal()"
                    class="text-black font-medium rounded-full text-sm px-2 py-2.5 text-center inline-flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                    </svg>
                </button>
            </div>
            <!-- User -->
            <div class="mr-3">
                <button (click)="navigateTo('/perfil/usuario')" type="button"
                    class="text-black font-medium rounded-full text-sm px-2 py-2.5 text-center inline-flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
                    </svg>
                </button>
            </div>
            <!-- Botón de menú (siempre visible) -->
            <div *ngIf="isMenuIconVisible" class="mr-3" id="menu-icon">
                <button id="menu-btn" (click)="toggleSidebar()" type="button"
                    class="text-black font-medium rounded-full text-sm px-2 py-2.5 text-center inline-flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                    </svg>
                </button>
            </div>

        </div>
    </div>
</nav>
<div id="uniqueChatModal" class="flex flex-col fixed inset-0 items-center justify-center"
    [class.hidden]="!isChatModalVisible"
    style="background-color: rgba(0, 0, 0, 0.8); z-index: 9999;"> <!-- Ajuste del z-index -->
    <!-- Fondo negro transparente -->
    <!-- Botón de Cierre en la esquina superior derecha del modal usando CSS nativo -->
    <button
        style="position: absolute; top: 1rem; right: 1rem; color: white; font-size: 2rem; font-weight: bold; z-index: 10000;"
        (click)="closeChatModal()">
        ×
    </button>
    <!-- Contenido principal centrado -->
    <p class="text-white text-2xl md:text-3xl lg:text-4xl font-bold mb-4 p-6 text-center">¿Podemos ayudarte?</p>

    <div class="bg-white rounded-lg shadow-lg relative mx-4 sm:mx-6 lg:mx-8 w-full md:w-1/2">
        <div class="p-4 flex items-center justify-center">
            <input type="text" placeholder="Busca productos, marcas, componentes y más..." [(ngModel)]="searchQuery"
                class="w-full p-2 border-4 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                style="border-style: dotted; border-color: black;">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-black ml-2" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M21 21l-4.35-4.35m1.35-5.65a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
        </div>
        <!-- Contenedor de Historial de Búsqueda -->
        <div class="p-4 border-t border-gray-200">
            <h2 class="text-base font-semibold mb-2">Historial de búsqueda</h2>
            <ul class="space-y-2">
                <!-- Aquí puedes agregar elementos dinámicamente si es necesario -->
                <li *ngFor="let item of searchHistory">{{ item }}</li>
            </ul>
            <button (click)="search()" class="mt-4 w-full p-2 bg-black text-white rounded-md">Buscar</button>
        </div>
    </div>
</div>

<!-- Barra Lateral -->
<div id="sidebar"
    class="sidebar bg-white shadow-lg fixed top-0 right-[-250px] h-full w-[250px] transition-all duration-300 ease-in-out z-[1001] overflow-y-auto"
    [class.active]="isSidebarActive">
    <ul class="list-none p-3 m-0">
        <li class="p-4 border-b">
            <button class="flex items-center justify-between w-full text-black text-sm font-bold hover:bg-black hover:text-white rounded-2xl py-2 px-2">
                Inicia sesión / Regístrate
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-800 hover hover:text-white" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>
        </li>
        <li class="p-4">
            <button class="flex items-center justify-between w-full text-black text-sm font-bold hover:bg-black hover:text-white rounded-2xl py-2 px-2">
                Computadoras
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-800 hover hover:text-white" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>
        </li>
        <li class="p-4">
            <button class="flex items-center justify-between w-full text-black text-sm font-bold hover:bg-black hover:text-white rounded-2xl py-2 px-2">
                Laptops
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-800 hover hover:text-white" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>
        </li>
        <li class="p-4">
            <button class="flex items-center justify-between w-full text-black text-sm font-bold hover:bg-black hover:text-white rounded-2xl py-2 px-2">
                Periféricos
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-800 hover hover:text-white" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>
        </li>
        <li class="p-4">
            <button class="flex items-center justify-between w-full text-black text-sm font-bold hover:bg-black hover:text-white rounded-2xl py-2 px-2 group">
    Monitores
    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-800 group-hover:text-white transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
    </svg>
</button>
        </li>
        <li class="p-4">
            <button class="flex items-center justify-between w-full text-black text-sm font-bold hover:bg-black hover:text-white rounded-2xl py-2 px-2">
                Componentes
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-800 hover hover:text-white" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>
        </li>
        <li class="p-4">
            <button (click)="navigateTo('/servicio/tecnico')" class="flex items-center justify-between w-full text-black text-sm font-bold hover:bg-black hover:text-white rounded-2xl py-2 px-2">
                Servicio Técnico
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-800 hover hover:text-white" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>
        </li>
    </ul>
</div>

<!-- Overlay -->
<div id='overlay' class='overlay fixed inset-0 bg-black bg-opacity-50 z-[1000]' [class.active]="isSidebarActive"
    (click)="closeOverlay()"></div>